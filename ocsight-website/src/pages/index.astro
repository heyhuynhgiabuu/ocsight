---
import Layout from '../layouts/Layout.astro'
import Navigation from '../components/Navigation.astro'
import Button from '../components/Button.astro'
import Tabs from '../components/Tabs.astro'
---

<Layout title="ocsight - OpenCode Observability">
  <Navigation />
  <main class="min-h-screen">
    <!-- Hero Section -->
    <section class="py-20 px-4">
      <div class="container mx-auto text-center max-w-4xl">
        <h1 class="text-6xl font-mono font-bold mb-6 text-foreground">
          ocsight
        </h1>
        <p class="text-xl text-muted-foreground mb-12 max-w-2xl mx-auto leading-relaxed">
          OpenCode observability platform. See everything happening in your OpenCode development.
        </p>
        <div class="flex items-center justify-center gap-4 mb-16">
          <Button variant="primary" size="lg" href="#install">Install Now</Button>
          <Button variant="default" size="lg" href="/docs">View Docs</Button>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="py-16 px-4 bg-muted/30">
      <div class="container mx-auto max-w-4xl">
        <div class="grid md:grid-cols-2 gap-12 items-center">
          <div>
            <h2 class="text-3xl font-mono font-semibold mb-8">Features</h2>
            <ul class="space-y-6">
              <li class="flex items-start gap-3">
                <div class="w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"></div>
                <div>
                  <strong class="font-mono text-lg">Real OpenCode Data</strong>
                  <p class="text-muted-foreground mt-1">Reads actual OpenCode session and message storage. Processes thousands of messages in seconds with caching and streaming.</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <div class="w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"></div>
                <div>
                  <strong class="font-mono text-lg">Cost Optimization</strong>
                  <p class="text-muted-foreground mt-1">Identify expensive sessions, track spending by provider, and get actionable cost-saving recommendations.</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <div class="w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"></div>
                <div>
                  <strong class="font-mono text-lg">MCP Server</strong>
                  <p class="text-muted-foreground mt-1">Real-time analytics via Model Context Protocol. Integrate with AI agents for programmatic access to usage data.</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <div class="w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"></div>
                <div>
                  <strong class="font-mono text-lg">Performance Analytics</strong>
                  <p class="text-muted-foreground mt-1">Track tool usage efficiency, response times, and identify optimization opportunities in your development workflow.</p>
                </div>
              </li>
            </ul>
          </div>
          <div class="bg-muted p-6 rounded-lg font-mono text-sm">
            <div class="text-green-600 mb-4">$ ocsight analyze --days 7</div>
            <div class="text-foreground">ðŸ“Š OpenCode Usage Analysis</div>
            <div class="border-b border-border my-2"></div>
            <div class="space-y-1 text-muted-foreground">
              <div>Period: Last 7 days</div>
              <div>Total Sessions: 45</div>
              <div>Total Messages: 892</div>
              <div>Total Tokens: 156,789</div>
              <div>Total Cost: $12.34</div>
            </div>
            <div class="border-b border-border my-2"></div>
            <div class="text-foreground">Provider Breakdown:</div>
            <div class="text-muted-foreground ml-4">
              <div>â€¢ Anthropic: 28 sessions, 98,456 tokens, $8.23</div>
              <div>â€¢ OpenAI: 17 sessions, 58,333 tokens, $4.11</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Installation Section -->
    <section id="install" class="py-20 px-4">
      <div class="container mx-auto max-w-4xl">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-mono font-semibold mb-4">Installation</h2>
          <p class="text-xl text-muted-foreground">Get started with ocsight in seconds</p>
        </div>

        <Tabs>
          <div slot="tabs">
            <button data-tab="curl" class="active">curl</button>
            <button data-tab="npm">npm</button>
            <button data-tab="bun">bun</button>
            <button data-tab="brew">brew</button>
          </div>

          <div slot="content">
            <div data-tab-content="curl" class="active">
              <div class="bg-muted p-6 rounded-lg font-mono text-sm mb-4">
                <div class="text-foreground">curl -fsSL https://raw.githubusercontent.com/heyhuynhgiabuu/ocsight/main/install.sh | bash</div>
              </div>
            </div>

            <div data-tab-content="npm">
              <div class="bg-muted p-6 rounded-lg font-mono text-sm mb-4">
                <div class="text-foreground">npm install -g ocsight</div>
              </div>
            </div>

            <div data-tab-content="bun">
              <div class="bg-muted p-6 rounded-lg font-mono text-sm mb-4">
                <div class="text-foreground">bun install -g ocsight</div>
              </div>
            </div>

            <div data-tab-content="brew">
              <div class="bg-muted p-6 rounded-lg font-mono text-sm mb-4">
                <div class="text-foreground">brew tap heyhuynhgiabuu/tap</div>
                <div class="text-foreground">brew install ocsight</div>
              </div>
            </div>
          </div>
        </Tabs>

        <div class="text-center mt-12">
          <p class="text-muted-foreground mb-6">After installation, verify with:</p>
          <div class="bg-muted p-4 rounded-lg font-mono text-sm inline-block">
            <div class="text-foreground">ocsight --version</div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 px-4 bg-primary/5">
      <div class="container mx-auto text-center max-w-2xl">
        <h2 class="text-3xl font-mono font-semibold mb-6">Ready to get started?</h2>
        <p class="text-lg text-muted-foreground mb-8">
          Install ocsight and start analyzing your OpenCode development patterns today.
        </p>
        <div class="flex items-center justify-center gap-4">
          <Button variant="primary" size="lg" href="#install">Install ocsight</Button>
          <Button variant="default" size="lg" href="/docs">View Documentation</Button>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="border-t py-12 px-4">
    <div class="container mx-auto max-w-4xl">
      <div class="flex items-center justify-between">
        <div class="font-mono text-sm text-muted-foreground">
          Â© 2025 ocsight
        </div>
        <div class="flex items-center gap-6">
          <a href="https://github.com/heyhuynhgiabuu/ocsight" class="text-muted-foreground hover:text-foreground transition-colors">
            GitHub
          </a>
          <a href="https://x.com/heyhuynhgiabuu" class="text-muted-foreground hover:text-foreground transition-colors">
            X (Twitter)
          </a>
        </div>
      </div>
    </div>
  </footer>
</Layout>